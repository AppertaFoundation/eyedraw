<!doctype html>
<html>
<head>
	<title>Eyedraw doodle popup menu prototype</title>

	<!-- This is the main OpenEyes stlesheet -->
	<link rel="stylesheet" type="text/css" href="css/style.css" />

	<!-- The eyedraw widget stylesheet -->
	<!-- <link rel="stylesheet" type="text/css" href="../../../assets/css/oe-eyedraw.css" /> -->

	<!-- Other dependent scripts -->
	<script type="text/javascript" src="../../assets/components/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="../../assets/components/mustache/mustache.js"></script>
	<script type="text/javascript" src="../../assets/components/eventemitter2/lib/eventemitter2.js"></script>

	<!-- Load in the eyedraw scripts -->
	<script type="text/javascript" src="./js/scripts.js"></script>
	<script type="text/javascript" src="./js/doodleTitles.js"></script>
	<script>
		this.eyedrawScripts.forEach(function(file) {
			// We use document.write to force the files to be loaded synchronously.
			document.write('<script src="../../src/' + file + '"><\/script>');
		});
	</script>
	<!-- End loading in eyedraw scripts -->

	<style type="text/css">
	.container.main {
		width: 338px;
		margin-top: 50px;
		padding: 15px;
	}
	.ed-toolbar-panel {
		display: none;
	}
	</style>
</head>
<body>
	<div class="container main" role="main">

		<!-- EYEDRAW WIDGET START -->
		<div class="ed-widget" id="eyedrawwidget_example">

			<!-- TOOLBAR START -->
			<div class="ed-toolbar">

				<!-- PANEL START -->
				<ul class="ed-toolbar-panel ed-main-toolbar">
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="NuclearCataract">
							<span class="icon-ed-NuclearCataract"></span>
							<span class="label">Nuclear cataract</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="CorticalCataract">
							<span class="icon-ed-CorticalCataract"></span>
							<span class="label">Cortical cataract</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="PostSubcapCataract">
							<span class="icon-ed-PostSubcapCataract"></span>
							<span class="label">Posterior subcapsular cataract</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="PCIOL">
							<span class="icon-ed-PCIOL"></span>
							<span class="label">Posterior chamber IOL</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="ACIOL">
							<span class="icon-ed-ACIOL"></span>
							<span class="label">Anterior chamber IOL</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="Bleb">
							<span class="icon-ed-Bleb"></span>
							<span class="label">Trabeculectomy bleb</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="PI">
							<span class="icon-ed-PI"></span>
							<span class="label">Peripheral iridectomy</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="Fuchs">
							<span class="icon-ed-Fuchs"></span>
							<span class="label">Fuchs endothelial dystrophy</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="RK">
							<span class="icon-ed-RK"></span>
							<span class="label">Radial keratotomy</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="LasikFlap">
							<span class="icon-ed-LasikFlap"></span>
							<span class="label">LASIK flap</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="CornealScar">
							<span class="icon-ed-CornealScar"></span>
							<span class="label">Corneal scar</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="SectorIridectomy">
							<span class="icon-ed-SectorIridectomy"></span>
							<span class="label">Sector iridectomy</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="PosteriorSynechia">
							<span class="icon-ed-PosteriorSynechia"></span>
							<span class="label">Posterior synechia</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="PhakoIncision">
							<span class="icon-ed-PhakoIncision"></span>
							<span class="label">PhakoIncision</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="Patch">
							<span class="icon-ed-Patch"></span>
							<span class="label">Patch</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="PeripapillaryAtrophy">
							<span class="icon-ed-PeripapillaryAtrophy"></span>
							<span class="label">PeripapillaryAtrophy</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="Slider2D">
							<span class="icon-ed-Slider2D"></span>
							<span class="label">Slider2D</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="OpticDisc">
							<span class="icon-ed-OpticDisc"></span>
							<span class="label">OpticDisc</span>
						</a>
					</li>
					<li>
						<a class="ed-button" href="#" data-function="addDoodle" data-arg="CiliaryInjection">
							<span class="icon-ed-CiliaryInjection"></span>
							<span class="label">CiliaryInjection</span>
						</a>
					</li>
				</ul>
				<!-- PANEL END -->
			</div>
			<!-- TOOLBAR END -->

			<div class="ed-body">

				<div class="ed-editor-container">

					<div class="ed-editor">

						<div class="ed-drawing-controls ed-feature-zoom">
							<ul class="ed-toolbar-panel ed-drawing-toolbar">
								<li>
									<a class="ed-button" href="#" data-function="resetEyedraw">
										<span class="icon-ed-reset"></span>
										<span class="label">Reset eyedraw</span>
									</a>
								</li>
								<li>
									<a class="ed-button" href="#" data-function="toggleZoom">
										<span class="icon-ed-zoom-out"></span>
										<span class="label">Toogle Zoom</span>
									</a>
								</li>
							</ul>
							<div class="ed-selected-doodle">
								<select id="ed_example_selected_doodle">>
								</select>
							</div>
						</div>

						<!-- DOODLE POPUP -->
						<div class="ed-doodle-popup closed">
						</div>

						<!-- CANVAS -->
						<canvas
						id="ed_example"
						class="ed-canvas-edit"
						width="300"
						height="300"
						tabindex="1">
						</canvas>

						<!-- DATA FIELD -->
						<input
							type="hidden"
							id="ed_example_data"
							value='[{"version":1.1,"subclass":"AntSeg","pupilSize":"Small","apexY":-60,"rotation":0,"pxe":false,"coloboma":false,"colour":"Blue","ectropion":false,"order":0},{"version":1.1,"subclass":"CiliaryInjection","arc":90,"rotation":270,"order":1}]' />
					</div>
				</div>

				<div class="ed-fields-container">
					<!-- fields here -->
				</div>
			</div>
		</div>
	</div>

	<script>
	(function() {

		ED.setTitles(window.eyedrawDoodleTitles );

		// Anterior segment edit
		ED.init({
			canvasId: "ed_example",
			eye: 0,
			idSuffix: "AntSeg",
			isEditable: true,
			focus: false,
			graphicsPath: "../../../assets/img/",
			inputId: "ed_example_data",
			scale: .8,
			toggleScale: 0.5,
			onReadyCommandArray: [
				[
					"addDoodle",
					[
						"AntSeg"
					]
				],
				[
					"deselectDoodles",
					[]
				]
			],
			syncArray: {},
			listenerArray: [],
			offsetX: 0,
			offsetY: 0,
			toImage: false
		});
	}());
	</script>

	<!-- END EYEDRAW INIT -->
	<script>
	(function() {
		$(function() {
			// We're dynamically adding in this styelsheet to test if the eyedraw is
			// initiated only after the dependent stylesheets are loaded.
			$('<link rel="stylesheet" type="text/css" href="../../../assets/css/oe-eyedraw.css?cache=' + (new Date).getTime() + '" />').appendTo(document.body);
		});
	}());
	</script>
</body>
</html>