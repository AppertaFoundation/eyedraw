<!doctype html>
<html>
<head>
	<title>Eyedraw doodle popup menu prototype</title>

	<!-- This is the main OpenEyes stlesheet -->
	<link rel="stylesheet" type="text/css" href="css/style.css" />

	<!-- This is purely used for test/demo purposes -->
	<link rel="stylesheet" type="text/css" href="css/test.css" />

	<!-- The eyedraw widget stylesheet -->
	<link rel="stylesheet" type="text/css" href="../../assets/css/oe-eyedraw.css" id="ed-stylesheet" />

	<style type="text/css">
		.icon-example {
			border: 1px solid #ddd;
			padding: 2px;
			margin: 4px;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="box generic" style="margin-top:20px">
			<h2>EyeDraw Icons</h2>
			<div id="icons">
				<!-- icons to go here -->
			</div>
		</div>
	</div>
	<script>
	(function createIconSpans() {

		function toArray(list) {
			return Array.prototype.slice.call(list);
		}

		var styleSheet = toArray(document.styleSheets).filter(function(ss) {
			return ss.ownerNode.id === 'ed-stylesheet';
		})[0];

		// Here we simply loop through the stylesheet rules, filter out the icon
		// selectors, and create <span> elements with classes that match the selectors.
		var html = toArray(styleSheet.cssRules).filter(function(rule) {
			return /^\.ed-icon/.test(rule.selectorText);
		}).map(function(rule) {
			var className = rule.selectorText.replace(/\./, '');
			return '<span class="icon-example ' + className + '" title=".' + className + '"></span>';
		}).join('');

		document.getElementById('icons').innerHTML = html;
	}());
	</script>
</body>
</html>